<div class="container">
  <div class="header">
    <div class="left">
      <mat-icon (click)="back()">arrow_back</mat-icon>
      <h2>Communities</h2>
    </div>
    <div class="right">
      <mat-icon>search</mat-icon>
      <mat-icon (click)="openDialog()">group_add</mat-icon>
    </div>
  </div>
  <div class="title">
    <span>Your Communities</span>
  </div>
  <div class="main">
    <div class="all" *ngFor="let groups of groupJoined">
      <div class="leftsuggest" (click)="getDetail(this.groups._id, idToken)">
        <div class="avatar">
          <img src="../../../../../../../../../assets/soliqs-logo.png" alt="" />
        </div>
        <div class="name">
          <div class="groupname">
            <span class="textname">{{ groups.name }}</span>
            <span class="textmember">{{ groups.members.length }} members</span>
          </div>
          <div class="imguser" *ngFor="let member of groups.members">
            <img [src]="member.avatar" />
          </div>
        </div>
      </div>
      <div class="rightsuggest">
        <button mat-raised-button color="primary">Go in</button>
      </div>
    </div>
  </div>
  <div class="title">
    <span>Discover new Communities</span>
  </div>
  <div class="main">
    <div class="all" *ngFor="let groups of groupsList">
      <div class="leftsuggest" (click)="getDetail(this.groups._id, idToken)">
        <div class="avatar">
          <img src="../../../../../../../../../assets/soliqs-logo.png" alt="" />
        </div>
        <div class="name">
          <div class="groupname">
            <span class="textname">{{ groups.name }}</span>
            <span class="textmember">{{ groups.members.length }} members</span>
          </div>
          <div class="imguser" *ngFor="let member of groups.members">
            <img [src]="member.avatar" />
          </div>
        </div>
      </div>
      <div class="rightsuggest">
        <button mat-raised-button color="primary" (click)="joinGroup(this.groups._id, idToken)">
          Join
        </button>
      </div>
    </div>
  </div>
</div>

<dialog class="group_add" style="color: #1f1a1c" #createGroupDialog>
  <div class="btnClose" (click)="closeDialog()">
    <img src="https://cdn-icons-png.flaticon.com/512/2976/2976286.png" alt="" />
  </div>
  <h2 style="display: flex; justify-content: center; font-weight: 500">
    Create a group
  </h2>
  <div class="inputGroup" [formGroup]="groupForm">
    <div>
      <mat-form-field appearance="fill">
        <mat-label>Name Group</mat-label>
        <input matInput placeholder="" formControlName="name" />
      </mat-form-field>
    </div>
    <div>
      <mat-form-field appearance="fill">
        <mat-label>Privacy</mat-label>
        <select matNativeControl required>
          <option>Public</option>
          <option>Private</option>
        </select>
      </mat-form-field>
    </div>

    <div>
      <button
        (click)="createGroup()"
        class="confirmBtn"
        mat-raised-button
        color="primary"
      >
        Confirm
      </button>
    </div>
  </div>
</dialog>
